<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:g="http://java.sun.com/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    
    <h:head>
        <title>Welcome to My Merlion</title>

        <meta name="author" content="The Author"></meta>
        <h:outputStylesheet library="awesome" name="css/font-awesome.css"/>

    </h:head>

    <h:body>
        <b:container>
            <p:breadCrumb>
                    <p:menuitem value="Merlion Home" url="/main.xhtml" icon="ui-icon-home"/>
                    <p:menuitem value="Home" url="/CI/myMerlion.xhtml" />
                    <p:menuitem value="Account Management" url="/CI/account/viewAccountInfo.xhtml" />
                    <p:menuitem value="Company Profile Management" url="/CI/account/viewCompanyProfile.xhtml" />
                    <p:menuitem value="Contract Management" url="#" />
                    <p:menuitem value="Internal Communication" url="#" />
                   
                </p:breadCrumb> 
            <b:well>
                <h3>My MerLION</h3> 
            </b:well>
        </b:container>
        <br/>
        <b:container>
            <b:row styleClass="show-grid">
                <b:column col-xs="5" col-sm="5" col-md="3">

                    <h:form>
                        <p:growl autoUpdate="true"/>
                        <p:menu style="width:250px">
                        <p:submenu label="Account Management">

                                <p:menuitem value="View Account Infomation" url="/CI/account/viewAccountInfo.xhtml"/>
                                <p:menuitem value="Edit Account Information" url="/CI/account/editAccountInfo.xhtml" />
                                <p:menuitem value="Reset Password" url="/CI/account/resetPassword.xhtml"/>
                                <p:menuitem value="Create Account" url="/CI/account/createAccount.xhtml"/>

                         </p:submenu>
                        </p:menu>
                    </h:form>

                </b:column>                 
                <b:column col-xs="5" col-sm="5" col-md="9">
                    <font color="#585858">
                        <div class="container">
                            <h:form id="formMain">
                                <p:panel id="panel" header="Reset Password" style="width: 500px;">
                                    <p:ajaxStatus style="width:16px;height:16px;">
                                        <f:facet name="start">
                                            <h:graphicImage value="/images/spinner.gif" />
                                        </f:facet>
                                        <f:facet name="complete">
                                            <h:outputText value="" />
                                        </f:facet>
                                    </p:ajaxStatus>
                                    <p:messages />

                                    <p:panelGrid>
                                        <p:row>
                                            <p:column>
                                                <p:outputLabel for="Email" style="font-weight: bold" value="Email: " />
                                            </p:column>
                                            <p:column>
                                                <p:inputText required="true" label="Email" requiredMessage="Email is required." id="Email" value="#{accountManagedBean.email}">
                                                    <f:validator validatorId="custom.emailValidator" />
                                                </p:inputText>
                                                <p:message for="Email" />
                                            </p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column>
                                                <p:commandButton id="btnn" value="confirm email" update="panel" actionListener="#{accountManagedBean.getQuestion}" ajax="true" />
                                            </p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column>
                                                <p:outputLabel style="font-weight: bold" value="Security Question: " />
                                            </p:column>
                                            <p:column>
                                                <h:outputText id="panel1" value="#{accountManagedBean.security_question}" />
                                            </p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column>
                                                <p:outputLabel style="font-weight: bold" value="Security Answer: " />
                                            </p:column>
                                            <p:column>
                                                <h:inputText  value="#{accountManagedBean.security_answer}" />
                                            </p:column>
                                        </p:row>

                                        <p:row>
                                            <p:column>
                                                <p:outputLabel for="password" style="font-weight: bold" value="new password: " />
                                            </p:column>
                                            <p:column>
                                                <h:inputSecret required="false" label="password" requiredMessage="new password is required." id="password" value="#{accountManagedBean.newpassword}">

                                                </h:inputSecret>

                                                <p:message for="password" />
                                            </p:column>
                                        </p:row>
                                    </p:panelGrid>
                                    <br/>
                                    <p:commandButton id="btn" value="confirm" update="panel" actionListener="#{accountManagedBean.resetpassword}" ajax="true" />

                                </p:panel>
                            </h:form>
                        </div>
                    </font>
                </b:column>
            </b:row>
        </b:container>
        <br/>
        <foot>
            <div class="navbar navbar-default navbar-fixed-bottom" role="navigation">

                <div class="navbar-text pull-left">
                    <p>2014 MerLION Logistics.</p>
                </div>

                <div class="navbar-text pull-right">
                    <a href="#"><i class="fa fa-facebook-square fa-2x"></i></a>
                    <a href="#"><i class="fa fa-twitter fa-2x"></i></a>
                    <a href="#"><i class="fa fa-google-plus fa-2x"></i></a>
                    <a href="#"><i class="fa fa-weixin fa-2x"></i></a>
                    <a href="#"><i class="fa fa-weibo fa-2x"></i></a>


                </div>

            </div>
        </foot>

    </h:body>
</html>






