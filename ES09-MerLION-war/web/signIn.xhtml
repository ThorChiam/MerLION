<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>MerLION Logistics</title>
        <meta name="author" content="The Author"></meta>
        <h:outputStylesheet library="awesome" name="css/font-awesome.css"/>

        <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
        <link href="/ES09-MerLION-war/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/ES09-MerLION-war/css/search.css" rel="stylesheet"/>
    </h:head>
    <script type="text/javascript">
        /**
         * Faces Validator
         */
        PrimeFaces.validator['custom.emailValidator'] = {
            pattern: /\S+@\S+/,
            validate: function (element, value) {
                //use element.data() to access validation metadata, in this case there is none.
                if (!this.pattern.test(value)) {
                    throw {
                        summary: 'Validation Error',
                        detail: value + ' is not a valid email.'
                    }
                }
            }
        };
    </script>

    <!-- Add 50px padding top to the body for the navbar -->
    <h:body style="padding-top: 40px; padding-bottom: 20px;">


        <b:navBar brand="My MerLION" brandHref="main.xhtml" inverse="false" fixed="top">
            <b:navBar brand="MerLION Logistics" brandHref="main.xhtml" inverse="false" fixed="top">
                <b:navbarLinks>
                    <b:navLink value="Sign Up" href="signUp.xhtml"></b:navLink>
                    <b:navLink value="My MerLION" href="myMerlion.xhtml"></b:navLink>
                    <b:navLink value="About us" href="aboutUs.xhtml"></b:navLink>
                    <b:navLink value="Contact us" href="contactUs.xhtml"></b:navLink>               
                    <b:dropMenu value="Services">
                        <b:navLink value="OES" href="/OES/main.xhtml"></b:navLink>
                        <b:navLink value="MRP" href="#"></b:navLink>
                        <b:navLink value="TMS" href="/TMS/sub-home.xhtml"></b:navLink>
                        <b:navLink value="Separated link" href="#"></b:navLink>
                        <b:navLink value="One more separated link" href="#"></b:navLink>
                    </b:dropMenu>
                    <b:navLink value="Help Desk" href="helpDesk.xhtml"></b:navLink>

                </b:navbarLinks>

                <h:form styleClass="navbar-form navbar-right">
                    <p:button value="Log In" outcome="signIn"/>

                    <b:commandButton action="signIn.xhtml" value="Log Out" look="success" iconAlign="right" actionListener="#{accountManagedBean.logout}"/>
                </h:form> 
            </b:navBar>

            <h:form styleClass="navbar-form navbar-right">
                <div class="form-group">
                    <b:inputText placeholder="Email" fieldSize="sm"/>

                </div>
                <div class="form-group">
                    <b:inputText placeholder="Password" fieldSize="sm"/>
                </div> 
                #{' '}
                <b:commandButton action="a" value="Sign in" look="success" icon="chevron-right" iconAlign="right"/>
            </h:form>
        </b:navBar>

        <br/>



        <b:container>
            <b:row>

                <div style="border-left:thin darkgrey solid; position:absolute; left:600px; height:700px;"/> 
                <b:column col-md="1"></b:column>
                <b:column col-md="5">

                    <font color="#585858">
                        <h4 color="grey">Sign In</h4>
                        <br/>
                        <div class="container">
                            <h:form id="formMain">
                                <p:growl id="panel">
                                    <p:panelGrid>
                                        <f:facet name="header">
                                            <p:messages id="msgs" />
                                        </f:facet>

                                        <div class="form-group">
                                            <p:row>
                                                <p:column>
                                                    <p:outputLabel for="Email" style="font-weight: bold" value="Email: " />
                                                </p:column>
                                                <p:column>

                                                    <p:inputText required="true" label="Email" requiredMessage="Email is required." id="Email" value="#{accountManagedBean.email}">                                    
                                                        <f:validator validatorId="custom.emailValidator" />
                                                    </p:inputText>

                                                    <!--     <p:message for="Email"/>  -->
                                                </p:column>
                                            </p:row>
                                        </div>
                                        <div class="form-group">
                                            <p:row>
                                                <p:column>
                                                    <p:outputLabel for="password" style="font-weight: bold" value="Password: " />
                                                </p:column>
                                                <p:column>
                                                    <h:inputSecret required="true" label="password" requiredMessage="Password is required." id="password" value="#{accountManagedBean.password}">
                                                        <f:validateLength minimum="1" maximum="16" />
                                                    </h:inputSecret>          
                                                    <p:message for="password" />
                                                </p:column>
                                            </p:row>
                                        </div>
                                    </p:panelGrid>
                                    <p:captcha id="captcha" label="Captcha" secure="true"/>
                                    <p:message for="captcha" />

                                    <p:commandButton id="btn" value="Login" update="panel" actionListener="#{accountManagedBean.loginin}" ajax="false" rendered="#{facesContext.externalContext.sessionMap['userId'] == null}" action="main"/>
                                </p:growl>
                            </h:form>
                        </div>
                        <a href ="CI/account/resetPassword.xhtml"> forget your password?</a>
                    </font>

                </b:column>
                <br/>
                <b:column col-md="6"><img src="image/signIn.png" width="400" height="280"/></b:column>
            </b:row>
        </b:container>

        <br/>
        <br/>
        <br/>
        <br/>
        <foot>
            <div class="navbar navbar-default navbar-fixed-bottom" role="navigation">

                <div class="navbar-text pull-left">
                    <p>2014 MerLION Logistics.</p>
                </div>

                <div class="navbar-text pull-right">
                    <a href="#"><i class="fa fa-facebook-square fa-2x"></i></a>
                    <a href="#"><i class="fa fa-twitter fa-2x"></i></a>
                    <a href="#"><i class="fa fa-google-plus fa-2x"></i></a>

                </div>

            </div>
        </foot>
        <script
            src="/ES09-MerLION-war/js/bootstrap.min.js"
        type="text/javascript"></script> <script
            src="/ES09-MerLION-war/js/docs.min.js"
        type="text/javascript"></script>
        <!--  IE10 viewport hack for Surface/desktop Windows 8 bug --> <script
            src="/ES09-MerLION-war/js/jquery.min.js"
        type="text/javascript"></script>
    </h:body>
</html>